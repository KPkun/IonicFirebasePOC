<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{room.name}}" ng-init="initMethods()">
  <ion-content class="padding has-footer" style="height:80%">
    <!-- <img ng-src="{{room.logo}}" style="width: 64px; height: 64px">
    <p>
      {{room.lastText}}
    </p> -->
    <div class="list" ng-repeat="chat in chats">
      <a class="item item-avatar-left" ng-if="chat.is_agent==false">
        <img src="./img/default_profile_pic.jpg">
        <!-- <h2>{{chat.user}}</h2>-->
        <div>
          <p>{{chat.text}}</p>
        </div>
      </a>
      <a class="item item-avatar-right" ng-if="chat.is_agent==true">
        <img src="./img/default_profile_pic.jpg">
        <!-- <h2>{{chat.user}}</h2>-->
        <div style="float:right">
          <p>{{chat.text}}</p>
        </div>
      </a>
    </div>
  </ion-content>

  <div style="position: absolute; bottom: 0px; width: 100%">
    <form>
      <div class="list">
        <div class="item item-input-inset">
          <label class="item-input-wrapper">
            <input type="text" placeholder="message" ng-model="chat.message" ng-change="isWriting(chat)">
          </label>
          <button class="button button-positive ion ion-chatbubbles" ng-click="sendChat(chat)">
          </button>
        </div>
      </div>
    </form>
  </div>
</ion-view>
